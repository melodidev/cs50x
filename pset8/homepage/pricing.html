<!DOCTYPE html>

<html lang="en">
  <head>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
      <link href="styles.css" rel="stylesheet">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <title>White Rabbit Tours üêá</title>
  </head>
  <body>
    <nav class="navbar sticky-top navbar-expand-lg navbar-light">
      <a class="navbar-brand" href="index.html">üêá White Rabbit Tours</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="gallery.html">Gallery</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="pricing.html">Pricing<span class="sr-only">(current)</span></a>          
          </li>
          <li class="nav-item">
            <a class="nav-link" href="faq.html">FAQ</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contact.html">Contact Us</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="jumbotron">
      <div class="bg-wonderland"></div>
      <div class="jumbotron-content">
        <h1>Welcome to Wonderland!</h1>
        <p>Wander in Wonderland with us.</p>
      </div>
    </div>

    <!-- From groups and buttons for user input -->
    <div class="container">
      <form autocomplete="off">
        <div class="form-group">
          <label for="tour_types">Select type of tour you want to register:</label>
          <select class="form-control" id="tour_types">
            <option value="850">The Greatest Tour</option>
            <option value="600">Valentine's Day Special Tour</option>
          </select>
        </div>
        <p class="mb-1">Please select extras you want to take:</p>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" id="extra1" value="150">
          <label class="form-check-label" for="extra1">Boat sailing</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" id="extra2" value="50">
          <label class="form-check-label" for="extra2">Painting activity</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" id="extra3" value="250">
          <label class="form-check-label" for="extra3">Special suit</label>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-light mt-3 mb-0" style="background-color: pink;">Calculate</button>
        </div>
      </form>
      <!-- A place to show price after user submitted -->
      <div role="alert" class="alert" id="alert"></div>
    </div>

    <footer class="py-3">
      <div class="container">
        <p class="mb-1">
          <i class="bi bi-envelope"></i>
          You can't find us on social media, cause we are against it. Send a mail instead!
        </p>
        <p class="mb-1">
          <i class="bi bi-geo-alt"></i>
          White Rabbit's House, Wonderland
        </p>
      </div>
    </footer>

    <script>
      // If Valentine's Day tour is selected, disable extra1 checkbox
      document.querySelector("#tour_types").addEventListener("change", function(event) {
        let option = event.target.selectedOptions[0];
        let isValentine = option.innerHTML == "Valentine's Day Special Tour";
        let checkbox = document.getElementById("extra1");
        checkbox.disabled = isValentine;
        if (isValentine) {
          checkbox.checked = false;
        }
      });

      // When submit is clicked, do not reload the page
      document.querySelector("form").addEventListener("submit", function(event) {
        event.preventDefault();

        let price = 0;
        // Take selected tour_type's value as price 
        price += parseInt(document.getElementById("tour_types").value);
        // For every checkbox checked, add their value to price
        document.querySelectorAll(".form-check-input:checked").forEach(function(element) {
          price += parseInt(element.value);
        });

        // Show price and add a fake discount
        let alert = document.getElementById("alert");
        alert.classList.add("alert-warning");
        alert.innerHTML = "Price is <s>¬§" + (price * 1.2) + "</s>. But if you book now it is only ¬§" + price + "!";
      });
    </script>
  </body>
</html>